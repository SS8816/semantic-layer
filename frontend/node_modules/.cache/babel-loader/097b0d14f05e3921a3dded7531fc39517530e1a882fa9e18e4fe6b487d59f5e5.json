{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ssingh11\\\\OneDrive - HERE Global B.V\\\\Desktop\\\\metadata_explorer\\\\semantic_layer\\\\frontend\\\\src\\\\components\\\\MetadataViewer.jsx\",\n  _s = $RefreshSig$();\n/**\n * MetadataViewer Component\n * Displays table metadata in tabular format with inline editing and stats modal\n */\nimport React, { useState, useEffect } from \"react\";\nimport ReactJson from \"react-json-view\";\nimport api from \"../services/api\";\nimport \"./MetadataViewer.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MetadataViewer = ({\n  tableName\n}) => {\n  _s();\n  var _metadata$row_count, _statsModal$columnDat;\n  const [metadata, setMetadata] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [metadataNotFound, setMetadataNotFound] = useState(false);\n\n  // Generation state\n  const [generating, setGenerating] = useState(false);\n  const [taskId, setTaskId] = useState(null);\n  const [generationProgress, setGenerationProgress] = useState(null);\n\n  // Edit state\n  const [editingCell, setEditingCell] = useState(null); // { columnName, field }\n  const [editValue, setEditValue] = useState(\"\");\n\n  // Stats modal state\n  const [statsModal, setStatsModal] = useState(null); // { columnName, columnData }\n\n  useEffect(() => {\n    if (tableName) {\n      fetchMetadata();\n    }\n  }, [tableName]);\n\n  // Poll task status when generating\n  useEffect(() => {\n    if (taskId && generating) {\n      const interval = setInterval(async () => {\n        try {\n          const status = await api.getTaskStatus(taskId);\n          setGenerationProgress(status);\n          if (status.status === \"completed\") {\n            setGenerating(false);\n            setTaskId(null);\n            setGenerationProgress(null);\n            setTimeout(() => fetchMetadata(), 1000);\n          } else if (status.status === \"failed\") {\n            setGenerating(false);\n            setTaskId(null);\n            setError(`Metadata generation failed: ${status.error || \"Unknown error\"}`);\n          }\n        } catch (err) {\n          console.error(\"Error polling task status:\", err);\n        }\n      }, 2000);\n      return () => clearInterval(interval);\n    }\n  }, [taskId, generating]);\n  const fetchMetadata = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setMetadataNotFound(false);\n      const parts = tableName.split(\".\");\n      if (parts.length !== 3) {\n        throw new Error(\"Invalid table name format. Expected: catalog.schema.table\");\n      }\n      const [catalog, schema, table] = parts;\n      const data = await api.getMetadata(catalog, schema, table);\n      setMetadata(data);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Error fetching metadata:\", err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        setMetadataNotFound(true);\n        setError(\"Metadata not found for this table.\");\n      } else {\n        setError(\"Failed to load metadata. Please try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGenerateMetadata = async () => {\n    try {\n      setGenerating(true);\n      setError(null);\n      const parts = tableName.split(\".\");\n      if (parts.length !== 3) {\n        throw new Error(\"Invalid table name format\");\n      }\n      const [catalog, schema, table] = parts;\n      const response = await api.generateMetadata(table, catalog, schema, true);\n      setTaskId(response.task_id);\n      setGenerationProgress({\n        status: \"queued\",\n        progress: 0\n      });\n    } catch (err) {\n      console.error(\"Error generating metadata:\", err);\n      setError(\"Failed to start metadata generation. Please try again.\");\n      setGenerating(false);\n    }\n  };\n  const handleEditClick = (columnName, field, currentValue) => {\n    setEditingCell({\n      columnName,\n      field\n    });\n    setEditValue(currentValue || \"\");\n  };\n  const handleSaveEdit = async (columnName, field) => {\n    try {\n      const parts = tableName.split(\".\");\n      const [catalog, schema, table] = parts;\n      if (field === \"aliases\") {\n        const aliases = editValue.split(\",\").map(a => a.trim()).filter(a => a);\n        await api.updateColumnAlias(catalog, schema, table, columnName, aliases);\n        setMetadata(prev => ({\n          ...prev,\n          columns: {\n            ...prev.columns,\n            [columnName]: {\n              ...prev.columns[columnName],\n              aliases: aliases\n            }\n          }\n        }));\n      } else {\n        const updates = {\n          [field]: editValue === \"None\" ? null : editValue\n        };\n        await api.updateColumnMetadata(catalog, schema, table, columnName, updates);\n        setMetadata(prev => ({\n          ...prev,\n          columns: {\n            ...prev.columns,\n            [columnName]: {\n              ...prev.columns[columnName],\n              [field]: editValue === \"None\" ? null : editValue\n            }\n          }\n        }));\n      }\n      setEditingCell(null);\n      setEditValue(\"\");\n    } catch (err) {\n      console.error(`Error updating ${field}:`, err);\n      alert(`Failed to update ${field}. Please try again.`);\n    }\n  };\n  const handleCancelEdit = () => {\n    setEditingCell(null);\n    setEditValue(\"\");\n  };\n  const handleOpenStats = (columnName, columnData) => {\n    setStatsModal({\n      columnName,\n      columnData\n    });\n  };\n  const handleCloseStats = () => {\n    setStatsModal(null);\n  };\n  if (!tableName) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-viewer empty\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select a table to view metadata\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-viewer loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading metadata...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  if (generating) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-viewer generating\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"generation-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Generating Metadata...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"table-name\",\n          children: tableName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), generationProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"generation-status\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"status-text\",\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: generationProgress.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), generationProgress.status === \"running\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"progress-text\",\n            children: \"Processing columns...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), generationProgress.total && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stats-text\",\n            children: [\"Progress: \", generationProgress.successful || 0, \" /\", \" \", generationProgress.total, \" columns\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"generation-note\",\n          children: \"This may take a few minutes. You can wait here or come back later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n  if (metadataNotFound) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-viewer not-found\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"not-found-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Metadata Not Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"table-name\",\n          children: tableName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: \"Metadata has not been generated for this table yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleGenerateMetadata,\n          className: \"generate-button\",\n          children: \"Generate Metadata Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-text\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && !metadataNotFound) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-viewer error\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchMetadata,\n        className: \"retry-button\",\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this);\n  }\n  if (!metadata) {\n    return null;\n  }\n  const columnTypeOptions = [\"dimension\", \"measure\", \"identifier\", \"timestamp\", \"detail\"];\n  const semanticTypeOptions = [\"country\", \"state\", \"city\", \"latitude\", \"longitude\", \"None\"];\n\n  // Render editable cell\n  const renderEditableCell = (columnName, field, value, options = null) => {\n    const isEditing = (editingCell === null || editingCell === void 0 ? void 0 : editingCell.columnName) === columnName && (editingCell === null || editingCell === void 0 ? void 0 : editingCell.field) === field;\n    if (isEditing) {\n      if (options) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: editValue,\n            onChange: e => setEditValue(e.target.value),\n            className: \"edit-select\",\n            autoFocus: true,\n            children: options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt,\n              children: opt\n            }, opt, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSaveEdit(columnName, field),\n            className: \"save-btn\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancelEdit,\n            className: \"cancel-btn\",\n            children: \"\\u2717\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editValue,\n            onChange: e => setEditValue(e.target.value),\n            className: \"edit-input\",\n            autoFocus: true,\n            onKeyDown: e => {\n              if (e.key === \"Enter\") handleSaveEdit(columnName, field);\n              if (e.key === \"Escape\") handleCancelEdit();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSaveEdit(columnName, field),\n            className: \"save-btn\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancelEdit,\n            className: \"cancel-btn\",\n            children: \"\\u2717\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this);\n      }\n    }\n\n    // Display mode\n    let displayValue = value;\n    if (field === \"aliases\") {\n      displayValue = Array.isArray(value) ? value.join(\", \") : \"\";\n    } else if (field === \"semantic_type\" && !value) {\n      displayValue = \"None\";\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cell-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cell-value\",\n        children: displayValue || \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleEditClick(columnName, field, field === \"aliases\" ? Array.isArray(value) ? value.join(\", \") : \"\" : value || (field === \"semantic_type\" ? \"None\" : \"\")),\n        className: \"edit-icon\",\n        title: \"Edit\",\n        children: \"\\u270F\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"metadata-viewer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewer-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"viewer-title\",\n        children: metadata.catalog_schema_table\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Last Updated:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), \" \", new Date(metadata.last_updated).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Row Count:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), \" \", ((_metadata$row_count = metadata.row_count) === null || _metadata$row_count === void 0 ? void 0 : _metadata$row_count.toLocaleString()) || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Columns:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), \" \", metadata.column_count || Object.keys(metadata.columns).length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metadata-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metadata-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"metadata-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Column Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Data Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Column Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Semantic Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Aliases\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Stats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.entries(metadata.columns).map(([columnName, columnData]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-name\",\n                children: columnName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-datatype\",\n                children: columnData.data_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-type\",\n                children: renderEditableCell(columnName, \"column_type\", columnData.column_type || \"dimension\", columnTypeOptions)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-semantic\",\n                children: renderEditableCell(columnName, \"semantic_type\", columnData.semantic_type, semanticTypeOptions)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-aliases\",\n                children: renderEditableCell(columnName, \"aliases\", columnData.aliases)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-description\",\n                children: renderEditableCell(columnName, \"description\", columnData.description)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col-stats-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleOpenStats(columnName, columnData),\n                  className: \"stats-button\",\n                  children: \"Stats\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 21\n              }, this)]\n            }, columnName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n        className: \"json-view\",\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: \"View Raw JSON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"json-container\",\n          children: /*#__PURE__*/_jsxDEV(ReactJson, {\n            src: metadata,\n            theme: \"rjv-default\",\n            collapsed: 1,\n            displayDataTypes: false,\n            displayObjectSize: false,\n            enableClipboard: true,\n            name: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this), statsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-modal-overlay\",\n      onClick: handleCloseStats,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Statistics: \", statsModal.columnName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCloseStats,\n            className: \"close-button\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Data Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: statsModal.columnData.data_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), statsModal.columnData.min_value !== null && statsModal.columnData.min_value !== undefined && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Min Value:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: String(statsModal.columnData.min_value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Max Value:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: String(statsModal.columnData.max_value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 21\n            }, this), statsModal.columnData.avg_value !== null && statsModal.columnData.avg_value !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Average:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: statsModal.columnData.avg_value.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Cardinality:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: ((_statsModal$columnDat = statsModal.columnData.cardinality) === null || _statsModal$columnDat === void 0 ? void 0 : _statsModal$columnDat.toLocaleString()) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Null Percentage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: [statsModal.columnData.null_percentage || 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n};\n_s(MetadataViewer, \"Ne1fXDDHRiMB0RHW1xgRH7ScvFo=\");\n_c = MetadataViewer;\nexport default MetadataViewer;\nvar _c;\n$RefreshReg$(_c, \"MetadataViewer\");","map":{"version":3,"names":["React","useState","useEffect","ReactJson","api","jsxDEV","_jsxDEV","Fragment","_Fragment","MetadataViewer","tableName","_s","_metadata$row_count","_statsModal$columnDat","metadata","setMetadata","loading","setLoading","error","setError","metadataNotFound","setMetadataNotFound","generating","setGenerating","taskId","setTaskId","generationProgress","setGenerationProgress","editingCell","setEditingCell","editValue","setEditValue","statsModal","setStatsModal","fetchMetadata","interval","setInterval","status","getTaskStatus","setTimeout","err","console","clearInterval","parts","split","length","Error","catalog","schema","table","data","getMetadata","_err$response","response","handleGenerateMetadata","generateMetadata","task_id","progress","handleEditClick","columnName","field","currentValue","handleSaveEdit","aliases","map","a","trim","filter","updateColumnAlias","prev","columns","updates","updateColumnMetadata","alert","handleCancelEdit","handleOpenStats","columnData","handleCloseStats","className","children","fileName","_jsxFileName","lineNumber","columnNumber","total","successful","onClick","columnTypeOptions","semanticTypeOptions","renderEditableCell","value","options","isEditing","onChange","e","target","autoFocus","opt","type","onKeyDown","key","displayValue","Array","isArray","join","title","catalog_schema_table","Date","last_updated","toLocaleString","row_count","column_count","Object","keys","entries","data_type","column_type","semantic_type","description","src","theme","collapsed","displayDataTypes","displayObjectSize","enableClipboard","name","stopPropagation","min_value","undefined","String","max_value","avg_value","toFixed","cardinality","null_percentage","_c","$RefreshReg$"],"sources":["C:/Users/ssingh11/OneDrive - HERE Global B.V/Desktop/metadata_explorer/semantic_layer/frontend/src/components/MetadataViewer.jsx"],"sourcesContent":["/**\n * MetadataViewer Component\n * Displays table metadata in tabular format with inline editing and stats modal\n */\nimport React, { useState, useEffect } from \"react\";\nimport ReactJson from \"react-json-view\";\nimport api from \"../services/api\";\nimport \"./MetadataViewer.css\";\n\nconst MetadataViewer = ({ tableName }) => {\n  const [metadata, setMetadata] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [metadataNotFound, setMetadataNotFound] = useState(false);\n\n  // Generation state\n  const [generating, setGenerating] = useState(false);\n  const [taskId, setTaskId] = useState(null);\n  const [generationProgress, setGenerationProgress] = useState(null);\n\n  // Edit state\n  const [editingCell, setEditingCell] = useState(null); // { columnName, field }\n  const [editValue, setEditValue] = useState(\"\");\n\n  // Stats modal state\n  const [statsModal, setStatsModal] = useState(null); // { columnName, columnData }\n\n  useEffect(() => {\n    if (tableName) {\n      fetchMetadata();\n    }\n  }, [tableName]);\n\n  // Poll task status when generating\n  useEffect(() => {\n    if (taskId && generating) {\n      const interval = setInterval(async () => {\n        try {\n          const status = await api.getTaskStatus(taskId);\n          setGenerationProgress(status);\n\n          if (status.status === \"completed\") {\n            setGenerating(false);\n            setTaskId(null);\n            setGenerationProgress(null);\n            setTimeout(() => fetchMetadata(), 1000);\n          } else if (status.status === \"failed\") {\n            setGenerating(false);\n            setTaskId(null);\n            setError(\n              `Metadata generation failed: ${status.error || \"Unknown error\"}`,\n            );\n          }\n        } catch (err) {\n          console.error(\"Error polling task status:\", err);\n        }\n      }, 2000);\n\n      return () => clearInterval(interval);\n    }\n  }, [taskId, generating]);\n\n  const fetchMetadata = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setMetadataNotFound(false);\n\n      const parts = tableName.split(\".\");\n      if (parts.length !== 3) {\n        throw new Error(\n          \"Invalid table name format. Expected: catalog.schema.table\",\n        );\n      }\n\n      const [catalog, schema, table] = parts;\n      const data = await api.getMetadata(catalog, schema, table);\n      setMetadata(data);\n    } catch (err) {\n      console.error(\"Error fetching metadata:\", err);\n      if (err.response?.status === 404) {\n        setMetadataNotFound(true);\n        setError(\"Metadata not found for this table.\");\n      } else {\n        setError(\"Failed to load metadata. Please try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGenerateMetadata = async () => {\n    try {\n      setGenerating(true);\n      setError(null);\n\n      const parts = tableName.split(\".\");\n      if (parts.length !== 3) {\n        throw new Error(\"Invalid table name format\");\n      }\n\n      const [catalog, schema, table] = parts;\n      const response = await api.generateMetadata(table, catalog, schema, true);\n      setTaskId(response.task_id);\n      setGenerationProgress({ status: \"queued\", progress: 0 });\n    } catch (err) {\n      console.error(\"Error generating metadata:\", err);\n      setError(\"Failed to start metadata generation. Please try again.\");\n      setGenerating(false);\n    }\n  };\n\n  const handleEditClick = (columnName, field, currentValue) => {\n    setEditingCell({ columnName, field });\n    setEditValue(currentValue || \"\");\n  };\n\n  const handleSaveEdit = async (columnName, field) => {\n    try {\n      const parts = tableName.split(\".\");\n      const [catalog, schema, table] = parts;\n\n      if (field === \"aliases\") {\n        const aliases = editValue\n          .split(\",\")\n          .map((a) => a.trim())\n          .filter((a) => a);\n        await api.updateColumnAlias(\n          catalog,\n          schema,\n          table,\n          columnName,\n          aliases,\n        );\n\n        setMetadata((prev) => ({\n          ...prev,\n          columns: {\n            ...prev.columns,\n            [columnName]: {\n              ...prev.columns[columnName],\n              aliases: aliases,\n            },\n          },\n        }));\n      } else {\n        const updates = { [field]: editValue === \"None\" ? null : editValue };\n        await api.updateColumnMetadata(\n          catalog,\n          schema,\n          table,\n          columnName,\n          updates,\n        );\n\n        setMetadata((prev) => ({\n          ...prev,\n          columns: {\n            ...prev.columns,\n            [columnName]: {\n              ...prev.columns[columnName],\n              [field]: editValue === \"None\" ? null : editValue,\n            },\n          },\n        }));\n      }\n\n      setEditingCell(null);\n      setEditValue(\"\");\n    } catch (err) {\n      console.error(`Error updating ${field}:`, err);\n      alert(`Failed to update ${field}. Please try again.`);\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingCell(null);\n    setEditValue(\"\");\n  };\n\n  const handleOpenStats = (columnName, columnData) => {\n    setStatsModal({ columnName, columnData });\n  };\n\n  const handleCloseStats = () => {\n    setStatsModal(null);\n  };\n\n  if (!tableName) {\n    return (\n      <div className=\"metadata-viewer empty\">\n        <p>Select a table to view metadata</p>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"metadata-viewer loading\">\n        <div className=\"loader\"></div>\n        <p>Loading metadata...</p>\n      </div>\n    );\n  }\n\n  if (generating) {\n    return (\n      <div className=\"metadata-viewer generating\">\n        <div className=\"generation-container\">\n          <div className=\"loader\"></div>\n          <h2>Generating Metadata...</h2>\n          <p className=\"table-name\">{tableName}</p>\n\n          {generationProgress && (\n            <div className=\"generation-status\">\n              <p className=\"status-text\">\n                Status: <strong>{generationProgress.status}</strong>\n              </p>\n              {generationProgress.status === \"running\" && (\n                <p className=\"progress-text\">Processing columns...</p>\n              )}\n              {generationProgress.total && (\n                <p className=\"stats-text\">\n                  Progress: {generationProgress.successful || 0} /{\" \"}\n                  {generationProgress.total} columns\n                </p>\n              )}\n            </div>\n          )}\n\n          <p className=\"generation-note\">\n            This may take a few minutes. You can wait here or come back later.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (metadataNotFound) {\n    return (\n      <div className=\"metadata-viewer not-found\">\n        <div className=\"not-found-container\">\n          <h2>Metadata Not Available</h2>\n          <p className=\"table-name\">{tableName}</p>\n          <p className=\"message\">\n            Metadata has not been generated for this table yet.\n          </p>\n          <button onClick={handleGenerateMetadata} className=\"generate-button\">\n            Generate Metadata Now\n          </button>\n          {error && <p className=\"error-text\">{error}</p>}\n        </div>\n      </div>\n    );\n  }\n\n  if (error && !metadataNotFound) {\n    return (\n      <div className=\"metadata-viewer error\">\n        <p>{error}</p>\n        <button onClick={fetchMetadata} className=\"retry-button\">\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (!metadata) {\n    return null;\n  }\n\n  const columnTypeOptions = [\n    \"dimension\",\n    \"measure\",\n    \"identifier\",\n    \"timestamp\",\n    \"detail\",\n  ];\n  const semanticTypeOptions = [\n    \"country\",\n    \"state\",\n    \"city\",\n    \"latitude\",\n    \"longitude\",\n    \"None\",\n  ];\n\n  // Render editable cell\n  const renderEditableCell = (columnName, field, value, options = null) => {\n    const isEditing =\n      editingCell?.columnName === columnName && editingCell?.field === field;\n\n    if (isEditing) {\n      if (options) {\n        return (\n          <div className=\"inline-edit\">\n            <select\n              value={editValue}\n              onChange={(e) => setEditValue(e.target.value)}\n              className=\"edit-select\"\n              autoFocus\n            >\n              {options.map((opt) => (\n                <option key={opt} value={opt}>\n                  {opt}\n                </option>\n              ))}\n            </select>\n            <button\n              onClick={() => handleSaveEdit(columnName, field)}\n              className=\"save-btn\"\n            >\n              ✓\n            </button>\n            <button onClick={handleCancelEdit} className=\"cancel-btn\">\n              ✗\n            </button>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"inline-edit\">\n            <input\n              type=\"text\"\n              value={editValue}\n              onChange={(e) => setEditValue(e.target.value)}\n              className=\"edit-input\"\n              autoFocus\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\") handleSaveEdit(columnName, field);\n                if (e.key === \"Escape\") handleCancelEdit();\n              }}\n            />\n            <button\n              onClick={() => handleSaveEdit(columnName, field)}\n              className=\"save-btn\"\n            >\n              ✓\n            </button>\n            <button onClick={handleCancelEdit} className=\"cancel-btn\">\n              ✗\n            </button>\n          </div>\n        );\n      }\n    }\n\n    // Display mode\n    let displayValue = value;\n    if (field === \"aliases\") {\n      displayValue = Array.isArray(value) ? value.join(\", \") : \"\";\n    } else if (field === \"semantic_type\" && !value) {\n      displayValue = \"None\";\n    }\n\n    return (\n      <div className=\"cell-content\">\n        <span className=\"cell-value\">{displayValue || \"-\"}</span>\n        <button\n          onClick={() =>\n            handleEditClick(\n              columnName,\n              field,\n              field === \"aliases\"\n                ? Array.isArray(value)\n                  ? value.join(\", \")\n                  : \"\"\n                : value || (field === \"semantic_type\" ? \"None\" : \"\"),\n            )\n          }\n          className=\"edit-icon\"\n          title=\"Edit\"\n        >\n          ✏️\n        </button>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"metadata-viewer\">\n      <div className=\"viewer-header\">\n        <h2 className=\"viewer-title\">{metadata.catalog_schema_table}</h2>\n        <div className=\"header-info\">\n          <span className=\"info-item\">\n            <strong>Last Updated:</strong>{\" \"}\n            {new Date(metadata.last_updated).toLocaleString()}\n          </span>\n          <span className=\"info-item\">\n            <strong>Row Count:</strong>{\" \"}\n            {metadata.row_count?.toLocaleString() || 0}\n          </span>\n          <span className=\"info-item\">\n            <strong>Columns:</strong>{\" \"}\n            {metadata.column_count || Object.keys(metadata.columns).length}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"metadata-content\">\n        {/* Main Metadata Table */}\n        <div className=\"metadata-table-container\">\n          <table className=\"metadata-table\">\n            <thead>\n              <tr>\n                <th>Column Name</th>\n                <th>Data Type</th>\n                <th>Column Type</th>\n                <th>Semantic Type</th>\n                <th>Aliases</th>\n                <th>Description</th>\n                <th>Stats</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(metadata.columns).map(\n                ([columnName, columnData]) => (\n                  <tr key={columnName}>\n                    {/* Column Name */}\n                    <td className=\"col-name\">{columnName}</td>\n\n                    {/* Data Type */}\n                    <td className=\"col-datatype\">{columnData.data_type}</td>\n\n                    {/* Column Type (editable) */}\n                    <td className=\"col-type\">\n                      {renderEditableCell(\n                        columnName,\n                        \"column_type\",\n                        columnData.column_type || \"dimension\",\n                        columnTypeOptions,\n                      )}\n                    </td>\n\n                    {/* Semantic Type (editable) */}\n                    <td className=\"col-semantic\">\n                      {renderEditableCell(\n                        columnName,\n                        \"semantic_type\",\n                        columnData.semantic_type,\n                        semanticTypeOptions,\n                      )}\n                    </td>\n\n                    {/* Aliases (editable) */}\n                    <td className=\"col-aliases\">\n                      {renderEditableCell(\n                        columnName,\n                        \"aliases\",\n                        columnData.aliases,\n                      )}\n                    </td>\n\n                    {/* Description (editable) */}\n                    <td className=\"col-description\">\n                      {renderEditableCell(\n                        columnName,\n                        \"description\",\n                        columnData.description,\n                      )}\n                    </td>\n\n                    {/* Stats Button */}\n                    <td className=\"col-stats-btn\">\n                      <button\n                        onClick={() => handleOpenStats(columnName, columnData)}\n                        className=\"stats-button\"\n                      >\n                        Stats\n                      </button>\n                    </td>\n                  </tr>\n                ),\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Raw JSON view (collapsible) */}\n        <details className=\"json-view\">\n          <summary>View Raw JSON</summary>\n          <div className=\"json-container\">\n            <ReactJson\n              src={metadata}\n              theme=\"rjv-default\"\n              collapsed={1}\n              displayDataTypes={false}\n              displayObjectSize={false}\n              enableClipboard={true}\n              name={false}\n            />\n          </div>\n        </details>\n      </div>\n\n      {/* Stats Modal */}\n      {statsModal && (\n        <div className=\"stats-modal-overlay\" onClick={handleCloseStats}>\n          <div className=\"stats-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"stats-modal-header\">\n              <h3>Statistics: {statsModal.columnName}</h3>\n              <button onClick={handleCloseStats} className=\"close-button\">\n                ✕\n              </button>\n            </div>\n            <div className=\"stats-modal-body\">\n              <div className=\"stat-row\">\n                <span className=\"stat-label\">Data Type:</span>\n                <span className=\"stat-value\">\n                  {statsModal.columnData.data_type}\n                </span>\n              </div>\n\n              {statsModal.columnData.min_value !== null &&\n                statsModal.columnData.min_value !== undefined && (\n                  <>\n                    <div className=\"stat-row\">\n                      <span className=\"stat-label\">Min Value:</span>\n                      <span className=\"stat-value\">\n                        {String(statsModal.columnData.min_value)}\n                      </span>\n                    </div>\n                    <div className=\"stat-row\">\n                      <span className=\"stat-label\">Max Value:</span>\n                      <span className=\"stat-value\">\n                        {String(statsModal.columnData.max_value)}\n                      </span>\n                    </div>\n                    {statsModal.columnData.avg_value !== null &&\n                      statsModal.columnData.avg_value !== undefined && (\n                        <div className=\"stat-row\">\n                          <span className=\"stat-label\">Average:</span>\n                          <span className=\"stat-value\">\n                            {statsModal.columnData.avg_value.toFixed(2)}\n                          </span>\n                        </div>\n                      )}\n                  </>\n                )}\n\n              <div className=\"stat-row\">\n                <span className=\"stat-label\">Cardinality:</span>\n                <span className=\"stat-value\">\n                  {statsModal.columnData.cardinality?.toLocaleString() || 0}\n                </span>\n              </div>\n\n              <div className=\"stat-row\">\n                <span className=\"stat-label\">Null Percentage:</span>\n                <span className=\"stat-value\">\n                  {statsModal.columnData.null_percentage || 0}%\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MetadataViewer;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,mBAAA,EAAAC,qBAAA;EACxC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACmB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;;EAE/D;EACA,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACuB,MAAM,EAAEC,SAAS,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACyB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;;EAElE;EACA,MAAM,CAAC2B,WAAW,EAAEC,cAAc,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;;EAE9C;EACA,MAAM,CAAC+B,UAAU,EAAEC,aAAa,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAEpDC,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,EAAE;MACbwB,aAAa,CAAC,CAAC;IACjB;EACF,CAAC,EAAE,CAACxB,SAAS,CAAC,CAAC;;EAEf;EACAR,SAAS,CAAC,MAAM;IACd,IAAIsB,MAAM,IAAIF,UAAU,EAAE;MACxB,MAAMa,QAAQ,GAAGC,WAAW,CAAC,YAAY;QACvC,IAAI;UACF,MAAMC,MAAM,GAAG,MAAMjC,GAAG,CAACkC,aAAa,CAACd,MAAM,CAAC;UAC9CG,qBAAqB,CAACU,MAAM,CAAC;UAE7B,IAAIA,MAAM,CAACA,MAAM,KAAK,WAAW,EAAE;YACjCd,aAAa,CAAC,KAAK,CAAC;YACpBE,SAAS,CAAC,IAAI,CAAC;YACfE,qBAAqB,CAAC,IAAI,CAAC;YAC3BY,UAAU,CAAC,MAAML,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC;UACzC,CAAC,MAAM,IAAIG,MAAM,CAACA,MAAM,KAAK,QAAQ,EAAE;YACrCd,aAAa,CAAC,KAAK,CAAC;YACpBE,SAAS,CAAC,IAAI,CAAC;YACfN,QAAQ,CACN,+BAA+BkB,MAAM,CAACnB,KAAK,IAAI,eAAe,EAChE,CAAC;UACH;QACF,CAAC,CAAC,OAAOsB,GAAG,EAAE;UACZC,OAAO,CAACvB,KAAK,CAAC,4BAA4B,EAAEsB,GAAG,CAAC;QAClD;MACF,CAAC,EAAE,IAAI,CAAC;MAER,OAAO,MAAME,aAAa,CAACP,QAAQ,CAAC;IACtC;EACF,CAAC,EAAE,CAACX,MAAM,EAAEF,UAAU,CAAC,CAAC;EAExB,MAAMY,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACFjB,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACdE,mBAAmB,CAAC,KAAK,CAAC;MAE1B,MAAMsB,KAAK,GAAGjC,SAAS,CAACkC,KAAK,CAAC,GAAG,CAAC;MAClC,IAAID,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;QACtB,MAAM,IAAIC,KAAK,CACb,2DACF,CAAC;MACH;MAEA,MAAM,CAACC,OAAO,EAAEC,MAAM,EAAEC,KAAK,CAAC,GAAGN,KAAK;MACtC,MAAMO,IAAI,GAAG,MAAM9C,GAAG,CAAC+C,WAAW,CAACJ,OAAO,EAAEC,MAAM,EAAEC,KAAK,CAAC;MAC1DlC,WAAW,CAACmC,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOV,GAAG,EAAE;MAAA,IAAAY,aAAA;MACZX,OAAO,CAACvB,KAAK,CAAC,0BAA0B,EAAEsB,GAAG,CAAC;MAC9C,IAAI,EAAAY,aAAA,GAAAZ,GAAG,CAACa,QAAQ,cAAAD,aAAA,uBAAZA,aAAA,CAAcf,MAAM,MAAK,GAAG,EAAE;QAChChB,mBAAmB,CAAC,IAAI,CAAC;QACzBF,QAAQ,CAAC,oCAAoC,CAAC;MAChD,CAAC,MAAM;QACLA,QAAQ,CAAC,4CAA4C,CAAC;MACxD;IACF,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMqC,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAI;MACF/B,aAAa,CAAC,IAAI,CAAC;MACnBJ,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMwB,KAAK,GAAGjC,SAAS,CAACkC,KAAK,CAAC,GAAG,CAAC;MAClC,IAAID,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;QACtB,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;MAC9C;MAEA,MAAM,CAACC,OAAO,EAAEC,MAAM,EAAEC,KAAK,CAAC,GAAGN,KAAK;MACtC,MAAMU,QAAQ,GAAG,MAAMjD,GAAG,CAACmD,gBAAgB,CAACN,KAAK,EAAEF,OAAO,EAAEC,MAAM,EAAE,IAAI,CAAC;MACzEvB,SAAS,CAAC4B,QAAQ,CAACG,OAAO,CAAC;MAC3B7B,qBAAqB,CAAC;QAAEU,MAAM,EAAE,QAAQ;QAAEoB,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOjB,GAAG,EAAE;MACZC,OAAO,CAACvB,KAAK,CAAC,4BAA4B,EAAEsB,GAAG,CAAC;MAChDrB,QAAQ,CAAC,wDAAwD,CAAC;MAClEI,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAMmC,eAAe,GAAGA,CAACC,UAAU,EAAEC,KAAK,EAAEC,YAAY,KAAK;IAC3DhC,cAAc,CAAC;MAAE8B,UAAU;MAAEC;IAAM,CAAC,CAAC;IACrC7B,YAAY,CAAC8B,YAAY,IAAI,EAAE,CAAC;EAClC,CAAC;EAED,MAAMC,cAAc,GAAG,MAAAA,CAAOH,UAAU,EAAEC,KAAK,KAAK;IAClD,IAAI;MACF,MAAMjB,KAAK,GAAGjC,SAAS,CAACkC,KAAK,CAAC,GAAG,CAAC;MAClC,MAAM,CAACG,OAAO,EAAEC,MAAM,EAAEC,KAAK,CAAC,GAAGN,KAAK;MAEtC,IAAIiB,KAAK,KAAK,SAAS,EAAE;QACvB,MAAMG,OAAO,GAAGjC,SAAS,CACtBc,KAAK,CAAC,GAAG,CAAC,CACVoB,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACpBC,MAAM,CAAEF,CAAC,IAAKA,CAAC,CAAC;QACnB,MAAM7D,GAAG,CAACgE,iBAAiB,CACzBrB,OAAO,EACPC,MAAM,EACNC,KAAK,EACLU,UAAU,EACVI,OACF,CAAC;QAEDhD,WAAW,CAAEsD,IAAI,KAAM;UACrB,GAAGA,IAAI;UACPC,OAAO,EAAE;YACP,GAAGD,IAAI,CAACC,OAAO;YACf,CAACX,UAAU,GAAG;cACZ,GAAGU,IAAI,CAACC,OAAO,CAACX,UAAU,CAAC;cAC3BI,OAAO,EAAEA;YACX;UACF;QACF,CAAC,CAAC,CAAC;MACL,CAAC,MAAM;QACL,MAAMQ,OAAO,GAAG;UAAE,CAACX,KAAK,GAAG9B,SAAS,KAAK,MAAM,GAAG,IAAI,GAAGA;QAAU,CAAC;QACpE,MAAM1B,GAAG,CAACoE,oBAAoB,CAC5BzB,OAAO,EACPC,MAAM,EACNC,KAAK,EACLU,UAAU,EACVY,OACF,CAAC;QAEDxD,WAAW,CAAEsD,IAAI,KAAM;UACrB,GAAGA,IAAI;UACPC,OAAO,EAAE;YACP,GAAGD,IAAI,CAACC,OAAO;YACf,CAACX,UAAU,GAAG;cACZ,GAAGU,IAAI,CAACC,OAAO,CAACX,UAAU,CAAC;cAC3B,CAACC,KAAK,GAAG9B,SAAS,KAAK,MAAM,GAAG,IAAI,GAAGA;YACzC;UACF;QACF,CAAC,CAAC,CAAC;MACL;MAEAD,cAAc,CAAC,IAAI,CAAC;MACpBE,YAAY,CAAC,EAAE,CAAC;IAClB,CAAC,CAAC,OAAOS,GAAG,EAAE;MACZC,OAAO,CAACvB,KAAK,CAAC,kBAAkB0C,KAAK,GAAG,EAAEpB,GAAG,CAAC;MAC9CiC,KAAK,CAAC,oBAAoBb,KAAK,qBAAqB,CAAC;IACvD;EACF,CAAC;EAED,MAAMc,gBAAgB,GAAGA,CAAA,KAAM;IAC7B7C,cAAc,CAAC,IAAI,CAAC;IACpBE,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;EAED,MAAM4C,eAAe,GAAGA,CAAChB,UAAU,EAAEiB,UAAU,KAAK;IAClD3C,aAAa,CAAC;MAAE0B,UAAU;MAAEiB;IAAW,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B5C,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,IAAI,CAACvB,SAAS,EAAE;IACd,oBACEJ,OAAA;MAAKwE,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpCzE,OAAA;QAAAyE,QAAA,EAAG;MAA+B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC;EAEV;EAEA,IAAInE,OAAO,EAAE;IACX,oBACEV,OAAA;MAAKwE,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACtCzE,OAAA;QAAKwE,SAAS,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9B7E,OAAA;QAAAyE,QAAA,EAAG;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC;EAEV;EAEA,IAAI7D,UAAU,EAAE;IACd,oBACEhB,OAAA;MAAKwE,SAAS,EAAC,4BAA4B;MAAAC,QAAA,eACzCzE,OAAA;QAAKwE,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBACnCzE,OAAA;UAAKwE,SAAS,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC9B7E,OAAA;UAAAyE,QAAA,EAAI;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/B7E,OAAA;UAAGwE,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAErE;QAAS;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAExCzD,kBAAkB,iBACjBpB,OAAA;UAAKwE,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCzE,OAAA;YAAGwE,SAAS,EAAC,aAAa;YAAAC,QAAA,GAAC,UACjB,eAAAzE,OAAA;cAAAyE,QAAA,EAASrD,kBAAkB,CAACW;YAAM;cAAA2C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC,EACHzD,kBAAkB,CAACW,MAAM,KAAK,SAAS,iBACtC/B,OAAA;YAAGwE,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACtD,EACAzD,kBAAkB,CAAC0D,KAAK,iBACvB9E,OAAA;YAAGwE,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAC,YACd,EAACrD,kBAAkB,CAAC2D,UAAU,IAAI,CAAC,EAAC,IAAE,EAAC,GAAG,EACnD3D,kBAAkB,CAAC0D,KAAK,EAAC,UAC5B;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN,eAED7E,OAAA;UAAGwE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAE/B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAI/D,gBAAgB,EAAE;IACpB,oBACEd,OAAA;MAAKwE,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eACxCzE,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClCzE,OAAA;UAAAyE,QAAA,EAAI;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/B7E,OAAA;UAAGwE,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAErE;QAAS;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzC7E,OAAA;UAAGwE,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAEvB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ7E,OAAA;UAAQgF,OAAO,EAAEhC,sBAAuB;UAACwB,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAErE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACRjE,KAAK,iBAAIZ,OAAA;UAAGwE,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAE7D;QAAK;UAAA8D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAIjE,KAAK,IAAI,CAACE,gBAAgB,EAAE;IAC9B,oBACEd,OAAA;MAAKwE,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpCzE,OAAA;QAAAyE,QAAA,EAAI7D;MAAK;QAAA8D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACd7E,OAAA;QAAQgF,OAAO,EAAEpD,aAAc;QAAC4C,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAEzD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,IAAI,CAACrE,QAAQ,EAAE;IACb,OAAO,IAAI;EACb;EAEA,MAAMyE,iBAAiB,GAAG,CACxB,WAAW,EACX,SAAS,EACT,YAAY,EACZ,WAAW,EACX,QAAQ,CACT;EACD,MAAMC,mBAAmB,GAAG,CAC1B,SAAS,EACT,OAAO,EACP,MAAM,EACN,UAAU,EACV,WAAW,EACX,MAAM,CACP;;EAED;EACA,MAAMC,kBAAkB,GAAGA,CAAC9B,UAAU,EAAEC,KAAK,EAAE8B,KAAK,EAAEC,OAAO,GAAG,IAAI,KAAK;IACvE,MAAMC,SAAS,GACb,CAAAhE,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE+B,UAAU,MAAKA,UAAU,IAAI,CAAA/B,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEgC,KAAK,MAAKA,KAAK;IAExE,IAAIgC,SAAS,EAAE;MACb,IAAID,OAAO,EAAE;QACX,oBACErF,OAAA;UAAKwE,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BzE,OAAA;YACEoF,KAAK,EAAE5D,SAAU;YACjB+D,QAAQ,EAAGC,CAAC,IAAK/D,YAAY,CAAC+D,CAAC,CAACC,MAAM,CAACL,KAAK,CAAE;YAC9CZ,SAAS,EAAC,aAAa;YACvBkB,SAAS;YAAAjB,QAAA,EAERY,OAAO,CAAC3B,GAAG,CAAEiC,GAAG,iBACf3F,OAAA;cAAkBoF,KAAK,EAAEO,GAAI;cAAAlB,QAAA,EAC1BkB;YAAG,GADOA,GAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAER,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,eACT7E,OAAA;YACEgF,OAAO,EAAEA,CAAA,KAAMxB,cAAc,CAACH,UAAU,EAAEC,KAAK,CAAE;YACjDkB,SAAS,EAAC,UAAU;YAAAC,QAAA,EACrB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT7E,OAAA;YAAQgF,OAAO,EAAEZ,gBAAiB;YAACI,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAE1D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAEV,CAAC,MAAM;QACL,oBACE7E,OAAA;UAAKwE,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BzE,OAAA;YACE4F,IAAI,EAAC,MAAM;YACXR,KAAK,EAAE5D,SAAU;YACjB+D,QAAQ,EAAGC,CAAC,IAAK/D,YAAY,CAAC+D,CAAC,CAACC,MAAM,CAACL,KAAK,CAAE;YAC9CZ,SAAS,EAAC,YAAY;YACtBkB,SAAS;YACTG,SAAS,EAAGL,CAAC,IAAK;cAChB,IAAIA,CAAC,CAACM,GAAG,KAAK,OAAO,EAAEtC,cAAc,CAACH,UAAU,EAAEC,KAAK,CAAC;cACxD,IAAIkC,CAAC,CAACM,GAAG,KAAK,QAAQ,EAAE1B,gBAAgB,CAAC,CAAC;YAC5C;UAAE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF7E,OAAA;YACEgF,OAAO,EAAEA,CAAA,KAAMxB,cAAc,CAACH,UAAU,EAAEC,KAAK,CAAE;YACjDkB,SAAS,EAAC,UAAU;YAAAC,QAAA,EACrB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT7E,OAAA;YAAQgF,OAAO,EAAEZ,gBAAiB;YAACI,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAE1D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAEV;IACF;;IAEA;IACA,IAAIkB,YAAY,GAAGX,KAAK;IACxB,IAAI9B,KAAK,KAAK,SAAS,EAAE;MACvByC,YAAY,GAAGC,KAAK,CAACC,OAAO,CAACb,KAAK,CAAC,GAAGA,KAAK,CAACc,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;IAC7D,CAAC,MAAM,IAAI5C,KAAK,KAAK,eAAe,IAAI,CAAC8B,KAAK,EAAE;MAC9CW,YAAY,GAAG,MAAM;IACvB;IAEA,oBACE/F,OAAA;MAAKwE,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BzE,OAAA;QAAMwE,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAEsB,YAAY,IAAI;MAAG;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACzD7E,OAAA;QACEgF,OAAO,EAAEA,CAAA,KACP5B,eAAe,CACbC,UAAU,EACVC,KAAK,EACLA,KAAK,KAAK,SAAS,GACf0C,KAAK,CAACC,OAAO,CAACb,KAAK,CAAC,GAClBA,KAAK,CAACc,IAAI,CAAC,IAAI,CAAC,GAChB,EAAE,GACJd,KAAK,KAAK9B,KAAK,KAAK,eAAe,GAAG,MAAM,GAAG,EAAE,CACvD,CACD;QACDkB,SAAS,EAAC,WAAW;QACrB2B,KAAK,EAAC,MAAM;QAAA1B,QAAA,EACb;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV,CAAC;EAED,oBACE7E,OAAA;IAAKwE,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BzE,OAAA;MAAKwE,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BzE,OAAA;QAAIwE,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAEjE,QAAQ,CAAC4F;MAAoB;QAAA1B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjE7E,OAAA;QAAKwE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BzE,OAAA;UAAMwE,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACzBzE,OAAA;YAAAyE,QAAA,EAAQ;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAAC,GAAG,EACjC,IAAIwB,IAAI,CAAC7F,QAAQ,CAAC8F,YAAY,CAAC,CAACC,cAAc,CAAC,CAAC;QAAA;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC,eACP7E,OAAA;UAAMwE,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACzBzE,OAAA;YAAAyE,QAAA,EAAQ;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAAC,GAAG,EAC9B,EAAAvE,mBAAA,GAAAE,QAAQ,CAACgG,SAAS,cAAAlG,mBAAA,uBAAlBA,mBAAA,CAAoBiG,cAAc,CAAC,CAAC,KAAI,CAAC;QAAA;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eACP7E,OAAA;UAAMwE,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACzBzE,OAAA;YAAAyE,QAAA,EAAQ;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAAC,GAAG,EAC5BrE,QAAQ,CAACiG,YAAY,IAAIC,MAAM,CAACC,IAAI,CAACnG,QAAQ,CAACwD,OAAO,CAAC,CAACzB,MAAM;QAAA;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN7E,OAAA;MAAKwE,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAE/BzE,OAAA;QAAKwE,SAAS,EAAC,0BAA0B;QAAAC,QAAA,eACvCzE,OAAA;UAAOwE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC/BzE,OAAA;YAAAyE,QAAA,eACEzE,OAAA;cAAAyE,QAAA,gBACEzE,OAAA;gBAAAyE,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAClB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpB7E,OAAA;gBAAAyE,QAAA,EAAI;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACR7E,OAAA;YAAAyE,QAAA,EACGiC,MAAM,CAACE,OAAO,CAACpG,QAAQ,CAACwD,OAAO,CAAC,CAACN,GAAG,CACnC,CAAC,CAACL,UAAU,EAAEiB,UAAU,CAAC,kBACvBtE,OAAA;cAAAyE,QAAA,gBAEEzE,OAAA;gBAAIwE,SAAS,EAAC,UAAU;gBAAAC,QAAA,EAAEpB;cAAU;gBAAAqB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAG1C7E,OAAA;gBAAIwE,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEH,UAAU,CAACuC;cAAS;gBAAAnC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAGxD7E,OAAA;gBAAIwE,SAAS,EAAC,UAAU;gBAAAC,QAAA,EACrBU,kBAAkB,CACjB9B,UAAU,EACV,aAAa,EACbiB,UAAU,CAACwC,WAAW,IAAI,WAAW,EACrC7B,iBACF;cAAC;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGL7E,OAAA;gBAAIwE,SAAS,EAAC,cAAc;gBAAAC,QAAA,EACzBU,kBAAkB,CACjB9B,UAAU,EACV,eAAe,EACfiB,UAAU,CAACyC,aAAa,EACxB7B,mBACF;cAAC;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGL7E,OAAA;gBAAIwE,SAAS,EAAC,aAAa;gBAAAC,QAAA,EACxBU,kBAAkB,CACjB9B,UAAU,EACV,SAAS,EACTiB,UAAU,CAACb,OACb;cAAC;gBAAAiB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGL7E,OAAA;gBAAIwE,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAC5BU,kBAAkB,CACjB9B,UAAU,EACV,aAAa,EACbiB,UAAU,CAAC0C,WACb;cAAC;gBAAAtC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGL7E,OAAA;gBAAIwE,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC3BzE,OAAA;kBACEgF,OAAO,EAAEA,CAAA,KAAMX,eAAe,CAAChB,UAAU,EAAEiB,UAAU,CAAE;kBACvDE,SAAS,EAAC,cAAc;kBAAAC,QAAA,EACzB;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GArDExB,UAAU;cAAAqB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAsDf,CAER;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAGN7E,OAAA;QAASwE,SAAS,EAAC,WAAW;QAAAC,QAAA,gBAC5BzE,OAAA;UAAAyE,QAAA,EAAS;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eAChC7E,OAAA;UAAKwE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,eAC7BzE,OAAA,CAACH,SAAS;YACRoH,GAAG,EAAEzG,QAAS;YACd0G,KAAK,EAAC,aAAa;YACnBC,SAAS,EAAE,CAAE;YACbC,gBAAgB,EAAE,KAAM;YACxBC,iBAAiB,EAAE,KAAM;YACzBC,eAAe,EAAE,IAAK;YACtBC,IAAI,EAAE;UAAM;YAAA7C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,EAGLnD,UAAU,iBACT1B,OAAA;MAAKwE,SAAS,EAAC,qBAAqB;MAACQ,OAAO,EAAET,gBAAiB;MAAAE,QAAA,eAC7DzE,OAAA;QAAKwE,SAAS,EAAC,aAAa;QAACQ,OAAO,EAAGQ,CAAC,IAAKA,CAAC,CAACgC,eAAe,CAAC,CAAE;QAAA/C,QAAA,gBAC/DzE,OAAA;UAAKwE,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACjCzE,OAAA;YAAAyE,QAAA,GAAI,cAAY,EAAC/C,UAAU,CAAC2B,UAAU;UAAA;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5C7E,OAAA;YAAQgF,OAAO,EAAET,gBAAiB;YAACC,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAE5D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACN7E,OAAA;UAAKwE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BzE,OAAA;YAAKwE,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBzE,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9C7E,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EACzB/C,UAAU,CAAC4C,UAAU,CAACuC;YAAS;cAAAnC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EAELnD,UAAU,CAAC4C,UAAU,CAACmD,SAAS,KAAK,IAAI,IACvC/F,UAAU,CAAC4C,UAAU,CAACmD,SAAS,KAAKC,SAAS,iBAC3C1H,OAAA,CAAAE,SAAA;YAAAuE,QAAA,gBACEzE,OAAA;cAAKwE,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBzE,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9C7E,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EACzBkD,MAAM,CAACjG,UAAU,CAAC4C,UAAU,CAACmD,SAAS;cAAC;gBAAA/C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eACN7E,OAAA;cAAKwE,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBzE,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9C7E,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EACzBkD,MAAM,CAACjG,UAAU,CAAC4C,UAAU,CAACsD,SAAS;cAAC;gBAAAlD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,EACLnD,UAAU,CAAC4C,UAAU,CAACuD,SAAS,KAAK,IAAI,IACvCnG,UAAU,CAAC4C,UAAU,CAACuD,SAAS,KAAKH,SAAS,iBAC3C1H,OAAA;cAAKwE,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBzE,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC5C7E,OAAA;gBAAMwE,SAAS,EAAC,YAAY;gBAAAC,QAAA,EACzB/C,UAAU,CAAC4C,UAAU,CAACuD,SAAS,CAACC,OAAO,CAAC,CAAC;cAAC;gBAAApD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CACN;UAAA,eACH,CACH,eAEH7E,OAAA;YAAKwE,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBzE,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChD7E,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EACzB,EAAAlE,qBAAA,GAAAmB,UAAU,CAAC4C,UAAU,CAACyD,WAAW,cAAAxH,qBAAA,uBAAjCA,qBAAA,CAAmCgG,cAAc,CAAC,CAAC,KAAI;YAAC;cAAA7B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAEN7E,OAAA;YAAKwE,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBzE,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpD7E,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,GACzB/C,UAAU,CAAC4C,UAAU,CAAC0D,eAAe,IAAI,CAAC,EAAC,GAC9C;YAAA;cAAAtD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACxE,EAAA,CAtiBIF,cAAc;AAAA8H,EAAA,GAAd9H,cAAc;AAwiBpB,eAAeA,cAAc;AAAC,IAAA8H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}