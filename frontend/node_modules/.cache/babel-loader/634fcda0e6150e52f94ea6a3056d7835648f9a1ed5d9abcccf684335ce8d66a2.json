{"ast":null,"code":"/**\r\n * API Client for Metadata Explorer Backend\r\n */\nimport axios from 'axios';\n\n// Base URL for API - configure based on environment\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 60000 // 60 second timeout for long-running queries\n});\n\n// Request interceptor for logging\napiClient.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`[API Request] ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error('[API Request Error]', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(response => {\n  var _response$config$meth;\n  console.log(`[API Response] ${(_response$config$meth = response.config.method) === null || _response$config$meth === void 0 ? void 0 : _response$config$meth.toUpperCase()} ${response.config.url} - ${response.status}`);\n  return response;\n}, error => {\n  var _error$response;\n  console.error('[API Response Error]', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\n\n/**\r\n * API Service\r\n */\nconst api = {\n  // ========== Table Endpoints ==========\n\n  /**\r\n   * Get all available tables\r\n   */\n  getTables: async () => {\n    const response = await apiClient.get('/api/tables');\n    return response.data;\n  },\n  /**\r\n   * Get sample data from a table\r\n   */\n  getTableData: async (tableName, limit = 1000) => {\n    const response = await apiClient.get(`/api/table-data/${tableName}`, {\n      params: {\n        limit\n      }\n    });\n    return response.data;\n  },\n  // ========== Metadata Endpoints ==========\n\n  /**\r\n   * Get complete metadata for a table\r\n   */\n  getMetadata: async tableName => {\n    const response = await apiClient.get(`/api/metadata/${tableName}`);\n    return response.data;\n  },\n  /**\r\n   * Refresh metadata for a table\r\n   */\n  refreshMetadata: async tableName => {\n    const response = await apiClient.post(`/api/refresh-metadata/${tableName}`);\n    return response.data;\n  },\n  /**\r\n   * Update column aliases\r\n   */\n  updateColumnAlias: async (tableName, columnName, aliases) => {\n    const response = await apiClient.patch(`/api/column/${tableName}/${columnName}/alias`, {\n      aliases\n    });\n    return response.data;\n  },\n  // ========== Admin Endpoints ==========\n\n  /**\r\n   * Generate metadata for tables\r\n   */\n  generateMetadata: async (tableName = null, forceRefresh = false) => {\n    const response = await apiClient.post('/api/admin/generate-metadata', {\n      table_name: tableName,\n      force_refresh: forceRefresh\n    });\n    return response.data;\n  },\n  /**\r\n   * Get task status\r\n   */\n  getTaskStatus: async taskId => {\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\n    return response.data;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","timeout","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","_response$config$meth","status","_error$response","data","message","api","getTables","get","getTableData","tableName","limit","params","getMetadata","refreshMetadata","post","updateColumnAlias","columnName","aliases","patch","generateMetadata","forceRefresh","table_name","force_refresh","getTaskStatus","taskId"],"sources":["C:/Users/ssingh11/OneDrive - HERE Global B.V/Desktop/metadata_explorer/frontend/src/services/api.js"],"sourcesContent":["/**\r\n * API Client for Metadata Explorer Backend\r\n */\r\nimport axios from 'axios';\r\n\r\n// Base URL for API - configure based on environment\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n// Create axios instance with default config\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 60000, // 60 second timeout for long-running queries\r\n});\r\n\r\n// Request interceptor for logging\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`[API Request] ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('[API Request Error]', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`[API Response] ${response.config.method?.toUpperCase()} ${response.config.url} - ${response.status}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('[API Response Error]', error.response?.data || error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * API Service\r\n */\r\nconst api = {\r\n  // ========== Table Endpoints ==========\r\n  \r\n  /**\r\n   * Get all available tables\r\n   */\r\n  getTables: async () => {\r\n    const response = await apiClient.get('/api/tables');\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get sample data from a table\r\n   */\r\n  getTableData: async (tableName, limit = 1000) => {\r\n    const response = await apiClient.get(`/api/table-data/${tableName}`, {\r\n      params: { limit },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // ========== Metadata Endpoints ==========\r\n\r\n  /**\r\n   * Get complete metadata for a table\r\n   */\r\n  getMetadata: async (tableName) => {\r\n    const response = await apiClient.get(`/api/metadata/${tableName}`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Refresh metadata for a table\r\n   */\r\n  refreshMetadata: async (tableName) => {\r\n    const response = await apiClient.post(`/api/refresh-metadata/${tableName}`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Update column aliases\r\n   */\r\n  updateColumnAlias: async (tableName, columnName, aliases) => {\r\n    const response = await apiClient.patch(\r\n      `/api/column/${tableName}/${columnName}/alias`,\r\n      { aliases }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  // ========== Admin Endpoints ==========\r\n\r\n  /**\r\n   * Generate metadata for tables\r\n   */\r\n  generateMetadata: async (tableName = null, forceRefresh = false) => {\r\n    const response = await apiClient.post('/api/admin/generate-metadata', {\r\n      table_name: tableName,\r\n      force_refresh: forceRefresh,\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get task status\r\n   */\r\n  getTaskStatus: async (taskId) => {\r\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}