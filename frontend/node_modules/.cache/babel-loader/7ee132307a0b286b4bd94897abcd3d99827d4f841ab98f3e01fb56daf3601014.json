{"ast":null,"code":"/**\n * API Client for Metadata Explorer Backend\n */\nimport axios from \"axios\";\n\n// Base URL for API - configure based on environment\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  timeout: 60000 // 60 second timeout for long-running queries\n});\n\n// Request interceptor for logging\napiClient.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`[API Request] ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error(\"[API Request Error]\", error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(response => {\n  var _response$config$meth;\n  console.log(`[API Response] ${(_response$config$meth = response.config.method) === null || _response$config$meth === void 0 ? void 0 : _response$config$meth.toUpperCase()} ${response.config.url} - ${response.status}`);\n  return response;\n}, error => {\n  var _error$response;\n  console.error(\"[API Response Error]\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\n\n/**\n * API Service\n */\nconst api = {\n  // ========== Catalog Endpoints ==========\n\n  /**\n   * Login with username and password\n   */\n  login: async (username, password) => {\n    const response = await apiClient.post(\"/api/auth/login\", {\n      username,\n      password\n    });\n    return response.data;\n  },\n  /**\n   * Logout\n   */\n  logout: async () => {\n    const response = await apiClient.post(\"/api/auth/logout\");\n    return response.data;\n  },\n  /**\n   * Get current user\n   */\n  getCurrentUser: async () => {\n    const response = await apiClient.get(\"/api/auth/me\");\n    return response.data;\n  },\n  /**\n   * Get all available catalogs\n   */\n  getCatalogs: async () => {\n    const response = await apiClient.get(\"/api/catalogs\");\n    return response.data;\n  },\n  /**\n   * Get schemas in a specific catalog\n   */\n  getSchemasInCatalog: async catalog => {\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas`);\n    return response.data;\n  },\n  /**\n   * Get tables in a specific catalog.schema (from Starburst - ALL tables)\n   */\n  getTablesInSchema: async (catalog, schema) => {\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas/${schema}/tables`);\n    return response.data;\n  },\n  // ========== Table Endpoints ==========\n\n  /**\n   * Get all tables WITH metadata (from DynamoDB only)\n   */\n  getTables: async () => {\n    const response = await apiClient.get(\"/api/tables\");\n    return response.data;\n  },\n  /**\n   * Get sample data from a table\n   */\n  getTableData: async (catalog, schema, tableName, limit = 1000) => {\n    const response = await apiClient.get(`/api/table-data/${catalog}/${schema}/${tableName}`, {\n      params: {\n        limit\n      }\n    });\n    return response.data;\n  },\n  // ========== Metadata Endpoints ==========\n\n  /**\n   * Get complete metadata for a table\n   * @param {string} catalog - Catalog name\n   * @param {string} schema - Schema name\n   * @param {string} tableName - Table name\n   */\n  getMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.get(`/api/metadata/${catalog}/${schema}/${tableName}`);\n    return response.data;\n  },\n  /**\n   * Refresh metadata for a table\n   */\n  refreshMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.post(`/api/refresh-metadata/${catalog}/${schema}/${tableName}`);\n    return response.data;\n  },\n  /**\n   * Update column aliases\n   */\n  updateColumnAlias: async (catalog, schema, tableName, columnName, aliases) => {\n    const response = await apiClient.patch(`/api/column/${catalog}/${schema}/${tableName}/${columnName}/alias`, {\n      aliases\n    });\n    return response.data;\n  },\n  /**\n   * Update column metadata (description, column_type, semantic_type)\n   */\n  updateColumnMetadata: async (catalog, schema, tableName, columnName, updates) => {\n    const response = await apiClient.patch(`/api/column/${catalog}/${schema}/${tableName}/${columnName}/metadata`, updates);\n    return response.data;\n  },\n  // ========== Admin Endpoints ==========\n\n  /**\n   * Generate metadata for tables\n   */\n  generateMetadata: async (tableName = null, catalog = \"here_explorer\", schema = \"explorer_datasets\", forceRefresh = false) => {\n    const response = await apiClient.post(\"/api/admin/generate-metadata\", {\n      table_name: tableName,\n      force_refresh: forceRefresh\n    }, {\n      params: {\n        catalog,\n        schema\n      }\n    });\n    return response.data;\n  },\n  /**\n   * Get task status\n   */\n  getTaskStatus: async taskId => {\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\n    return response.data;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","timeout","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","_response$config$meth","status","_error$response","data","message","api","login","username","password","post","logout","getCurrentUser","get","getCatalogs","getSchemasInCatalog","catalog","getTablesInSchema","schema","getTables","getTableData","tableName","limit","params","getMetadata","refreshMetadata","updateColumnAlias","columnName","aliases","patch","updateColumnMetadata","updates","generateMetadata","forceRefresh","table_name","force_refresh","getTaskStatus","taskId"],"sources":["C:/Users/ssingh11/OneDrive - HERE Global B.V/Desktop/metadata_explorer/semantic_layer/frontend/src/services/api.js"],"sourcesContent":["/**\n * API Client for Metadata Explorer Backend\n */\nimport axios from \"axios\";\n\n// Base URL for API - configure based on environment\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  timeout: 60000, // 60 second timeout for long-running queries\n});\n\n// Request interceptor for logging\napiClient.interceptors.request.use(\n  (config) => {\n    console.log(`[API Request] ${config.method?.toUpperCase()} ${config.url}`);\n    return config;\n  },\n  (error) => {\n    console.error(\"[API Request Error]\", error);\n    return Promise.reject(error);\n  },\n);\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(\n  (response) => {\n    console.log(\n      `[API Response] ${response.config.method?.toUpperCase()} ${response.config.url} - ${response.status}`,\n    );\n    return response;\n  },\n  (error) => {\n    console.error(\n      \"[API Response Error]\",\n      error.response?.data || error.message,\n    );\n    return Promise.reject(error);\n  },\n);\n\n/**\n * API Service\n */\nconst api = {\n  // ========== Catalog Endpoints ==========\n\n  /**\n   * Login with username and password\n   */\n  login: async (username, password) => {\n    const response = await apiClient.post(\"/api/auth/login\", {\n      username,\n      password,\n    });\n    return response.data;\n  },\n\n  /**\n   * Logout\n   */\n  logout: async () => {\n    const response = await apiClient.post(\"/api/auth/logout\");\n    return response.data;\n  },\n\n  /**\n   * Get current user\n   */\n  getCurrentUser: async () => {\n    const response = await apiClient.get(\"/api/auth/me\");\n    return response.data;\n  },\n  /**\n   * Get all available catalogs\n   */\n  getCatalogs: async () => {\n    const response = await apiClient.get(\"/api/catalogs\");\n    return response.data;\n  },\n\n  /**\n   * Get schemas in a specific catalog\n   */\n  getSchemasInCatalog: async (catalog) => {\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas`);\n    return response.data;\n  },\n\n  /**\n   * Get tables in a specific catalog.schema (from Starburst - ALL tables)\n   */\n  getTablesInSchema: async (catalog, schema) => {\n    const response = await apiClient.get(\n      `/api/catalogs/${catalog}/schemas/${schema}/tables`,\n    );\n    return response.data;\n  },\n\n  // ========== Table Endpoints ==========\n\n  /**\n   * Get all tables WITH metadata (from DynamoDB only)\n   */\n  getTables: async () => {\n    const response = await apiClient.get(\"/api/tables\");\n    return response.data;\n  },\n\n  /**\n   * Get sample data from a table\n   */\n  getTableData: async (catalog, schema, tableName, limit = 1000) => {\n    const response = await apiClient.get(\n      `/api/table-data/${catalog}/${schema}/${tableName}`,\n      {\n        params: { limit },\n      },\n    );\n    return response.data;\n  },\n\n  // ========== Metadata Endpoints ==========\n\n  /**\n   * Get complete metadata for a table\n   * @param {string} catalog - Catalog name\n   * @param {string} schema - Schema name\n   * @param {string} tableName - Table name\n   */\n  getMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.get(\n      `/api/metadata/${catalog}/${schema}/${tableName}`,\n    );\n    return response.data;\n  },\n\n  /**\n   * Refresh metadata for a table\n   */\n  refreshMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.post(\n      `/api/refresh-metadata/${catalog}/${schema}/${tableName}`,\n    );\n    return response.data;\n  },\n\n  /**\n   * Update column aliases\n   */\n  updateColumnAlias: async (\n    catalog,\n    schema,\n    tableName,\n    columnName,\n    aliases,\n  ) => {\n    const response = await apiClient.patch(\n      `/api/column/${catalog}/${schema}/${tableName}/${columnName}/alias`,\n      { aliases },\n    );\n    return response.data;\n  },\n\n  /**\n   * Update column metadata (description, column_type, semantic_type)\n   */\n  updateColumnMetadata: async (\n    catalog,\n    schema,\n    tableName,\n    columnName,\n    updates,\n  ) => {\n    const response = await apiClient.patch(\n      `/api/column/${catalog}/${schema}/${tableName}/${columnName}/metadata`,\n      updates,\n    );\n    return response.data;\n  },\n\n  // ========== Admin Endpoints ==========\n\n  /**\n   * Generate metadata for tables\n   */\n  generateMetadata: async (\n    tableName = null,\n    catalog = \"here_explorer\",\n    schema = \"explorer_datasets\",\n    forceRefresh = false,\n  ) => {\n    const response = await apiClient.post(\n      \"/api/admin/generate-metadata\",\n      {\n        table_name: tableName,\n        force_refresh: forceRefresh,\n      },\n      {\n        params: { catalog, schema },\n      },\n    );\n    return response.data;\n  },\n\n  /**\n   * Get task status\n   */\n  getTaskStatus: async (taskId) => {\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\n    return response.data;\n  },\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}