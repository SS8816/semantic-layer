{"ast":null,"code":"/**\r\n * API Client for Metadata Explorer Backend\r\n */\nimport axios from 'axios';\n\n// Base URL for API - configure based on environment\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 60000 // 60 second timeout for long-running queries\n});\n\n// Request interceptor for logging\napiClient.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`[API Request] ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error('[API Request Error]', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(response => {\n  var _response$config$meth;\n  console.log(`[API Response] ${(_response$config$meth = response.config.method) === null || _response$config$meth === void 0 ? void 0 : _response$config$meth.toUpperCase()} ${response.config.url} - ${response.status}`);\n  return response;\n}, error => {\n  var _error$response;\n  console.error('[API Response Error]', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\n\n/**\r\n * API Service\r\n */\nconst api = {\n  // ========== Catalog Endpoints ==========\n\n  /**\r\n   * Get all available catalogs\r\n   */\n  getCatalogs: async () => {\n    const response = await apiClient.get('/api/catalogs');\n    return response.data;\n  },\n  /**\r\n   * Get schemas in a specific catalog\r\n   */\n  getSchemasInCatalog: async catalog => {\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas`);\n    return response.data;\n  },\n  /**\r\n   * Get tables in a specific catalog.schema (from Starburst - ALL tables)\r\n   */\n  getTablesInSchema: async (catalog, schema) => {\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas/${schema}/tables`);\n    return response.data;\n  },\n  // ========== Table Endpoints ==========\n\n  /**\r\n   * Get all tables WITH metadata (from DynamoDB only)\r\n   */\n  getTables: async () => {\n    const response = await apiClient.get('/api/tables');\n    return response.data;\n  },\n  /**\r\n   * Get sample data from a table\r\n   */\n  getTableData: async (catalog, schema, tableName, limit = 1000) => {\n    const response = await apiClient.get(`/api/table-data/${catalog}/${schema}/${tableName}`, {\n      params: {\n        limit\n      }\n    });\n    return response.data;\n  },\n  // ========== Metadata Endpoints ==========\n\n  /**\r\n   * Get complete metadata for a table\r\n   * @param {string} catalog - Catalog name\r\n   * @param {string} schema - Schema name  \r\n   * @param {string} tableName - Table name\r\n   */\n  getMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.get(`/api/metadata/${catalog}/${schema}/${tableName}`);\n    return response.data;\n  },\n  /**\r\n   * Refresh metadata for a table\r\n   */\n  refreshMetadata: async (catalog, schema, tableName) => {\n    const response = await apiClient.post(`/api/refresh-metadata/${catalog}/${schema}/${tableName}`);\n    return response.data;\n  },\n  /**\r\n   * Update column aliases\r\n   */\n  updateColumnAlias: async (catalog, schema, tableName, columnName, aliases) => {\n    const response = await apiClient.patch(`/api/column/${catalog}/${schema}/${tableName}/${columnName}/alias`, {\n      aliases\n    });\n    return response.data;\n  },\n  /**\r\n   * Update column metadata (description, column_type, semantic_type)\r\n   */\n  updateColumnMetadata: async (catalog, schema, tableName, columnName, updates) => {\n    const response = await apiClient.patch(`/api/column/${catalog}/${schema}/${tableName}/${columnName}/metadata`, updates);\n    return response.data;\n  },\n  // ========== Admin Endpoints ==========\n\n  /**\r\n   * Generate metadata for tables\r\n   */\n  generateMetadata: async (tableName = null, catalog = 'here_explorer', schema = 'explorer_datasets', forceRefresh = false) => {\n    const response = await apiClient.post('/api/admin/generate-metadata', {\n      table_name: tableName,\n      force_refresh: forceRefresh\n    }, {\n      params: {\n        catalog,\n        schema\n      }\n    });\n    return response.data;\n  },\n  /**\r\n   * Get task status\r\n   */\n  getTaskStatus: async taskId => {\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\n    return response.data;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","timeout","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","_response$config$meth","status","_error$response","data","message","api","getCatalogs","get","getSchemasInCatalog","catalog","getTablesInSchema","schema","getTables","getTableData","tableName","limit","params","getMetadata","refreshMetadata","post","updateColumnAlias","columnName","aliases","patch","updateColumnMetadata","updates","generateMetadata","forceRefresh","table_name","force_refresh","getTaskStatus","taskId"],"sources":["C:/Users/ssingh11/OneDrive - HERE Global B.V/Desktop/metadata_explorer/semantic_layer/frontend/src/services/api.js"],"sourcesContent":["/**\r\n * API Client for Metadata Explorer Backend\r\n */\r\nimport axios from 'axios';\r\n\r\n// Base URL for API - configure based on environment\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n// Create axios instance with default config\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 60000, // 60 second timeout for long-running queries\r\n});\r\n\r\n// Request interceptor for logging\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`[API Request] ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('[API Request Error]', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`[API Response] ${response.config.method?.toUpperCase()} ${response.config.url} - ${response.status}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('[API Response Error]', error.response?.data || error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * API Service\r\n */\r\nconst api = {\r\n  // ========== Catalog Endpoints ==========\r\n  \r\n  /**\r\n   * Get all available catalogs\r\n   */\r\n  getCatalogs: async () => {\r\n    const response = await apiClient.get('/api/catalogs');\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get schemas in a specific catalog\r\n   */\r\n  getSchemasInCatalog: async (catalog) => {\r\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get tables in a specific catalog.schema (from Starburst - ALL tables)\r\n   */\r\n  getTablesInSchema: async (catalog, schema) => {\r\n    const response = await apiClient.get(`/api/catalogs/${catalog}/schemas/${schema}/tables`);\r\n    return response.data;\r\n  },\r\n\r\n  // ========== Table Endpoints ==========\r\n  \r\n  /**\r\n   * Get all tables WITH metadata (from DynamoDB only)\r\n   */\r\n  getTables: async () => {\r\n    const response = await apiClient.get('/api/tables');\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get sample data from a table\r\n   */\r\n  getTableData: async (catalog, schema, tableName, limit = 1000) => {\r\n    const response = await apiClient.get(`/api/table-data/${catalog}/${schema}/${tableName}`, {\r\n      params: { limit },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // ========== Metadata Endpoints ==========\r\n\r\n  /**\r\n   * Get complete metadata for a table\r\n   * @param {string} catalog - Catalog name\r\n   * @param {string} schema - Schema name  \r\n   * @param {string} tableName - Table name\r\n   */\r\n  getMetadata: async (catalog, schema, tableName) => {\r\n    const response = await apiClient.get(`/api/metadata/${catalog}/${schema}/${tableName}`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Refresh metadata for a table\r\n   */\r\n  refreshMetadata: async (catalog, schema, tableName) => {\r\n    const response = await apiClient.post(`/api/refresh-metadata/${catalog}/${schema}/${tableName}`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Update column aliases\r\n   */\r\n  updateColumnAlias: async (catalog, schema, tableName, columnName, aliases) => {\r\n    const response = await apiClient.patch(\r\n      `/api/column/${catalog}/${schema}/${tableName}/${columnName}/alias`,\r\n      { aliases }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Update column metadata (description, column_type, semantic_type)\r\n   */\r\n  updateColumnMetadata: async (catalog, schema, tableName, columnName, updates) => {\r\n    const response = await apiClient.patch(\r\n      `/api/column/${catalog}/${schema}/${tableName}/${columnName}/metadata`,\r\n      updates\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  // ========== Admin Endpoints ==========\r\n\r\n  /**\r\n   * Generate metadata for tables\r\n   */\r\n  generateMetadata: async (tableName = null, catalog = 'here_explorer', schema = 'explorer_datasets', forceRefresh = false) => {\r\n    const response = await apiClient.post('/api/admin/generate-metadata', \r\n      {\r\n        table_name: tableName,\r\n        force_refresh: forceRefresh,\r\n      },\r\n      {\r\n        params: { catalog, schema },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Get task status\r\n   */\r\n  getTaskStatus: async (taskId) => {\r\n    const response = await apiClient.get(`/api/admin/task-status/${taskId}`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}