{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ssingh11\\\\OneDrive - HERE Global B.V\\\\Desktop\\\\metadata_explorer\\\\frontend\\\\src\\\\components\\\\TableSelector.jsx\",\n  _s = $RefreshSig$();\n/**\r\n * TableSelector Component\r\n * Searchable dropdown for selecting tables\r\n */\nimport React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport api from '../services/api';\nimport './TableSelector.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableSelector = ({\n  onTableSelect,\n  selectedTable\n}) => {\n  _s();\n  const [tables, setTables] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchTables();\n  }, []);\n  const fetchTables = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await api.getTables();\n      setTables(data.tables || []);\n    } catch (err) {\n      console.error('Error fetching tables:', err);\n      setError('Failed to load tables. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Format tables for react-select\n  const options = tables.map(table => ({\n    value: table.name,\n    label: table.name,\n    schemaStatus: table.schema_status,\n    rowCount: table.row_count\n  }));\n\n  // Custom option renderer to show schema status\n  const formatOptionLabel = ({\n    label,\n    schemaStatus,\n    rowCount\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-option\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"table-name\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), schemaStatus === 'SCHEMA_CHANGED' && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"schema-badge changed\",\n      children: \"Changed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"row-count\",\n      children: [rowCount.toLocaleString(), \" rows\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n  const customStyles = {\n    control: provided => ({\n      ...provided,\n      minHeight: '45px',\n      borderColor: '#d1d5db',\n      boxShadow: 'none',\n      '&:hover': {\n        borderColor: '#9ca3af'\n      }\n    }),\n    menu: provided => ({\n      ...provided,\n      zIndex: 9999\n    })\n  };\n  const selectedOption = options.find(opt => opt.value === selectedTable);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-selector\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"table-select\",\n      className: \"selector-label\",\n      children: \"Select Table\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchTables,\n        className: \"retry-button\",\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      id: \"table-select\",\n      options: options,\n      value: selectedOption,\n      onChange: option => onTableSelect(option === null || option === void 0 ? void 0 : option.value),\n      placeholder: loading ? 'Loading tables...' : 'Search and select a table...',\n      isLoading: loading,\n      isSearchable: true,\n      isClearable: true,\n      formatOptionLabel: formatOptionLabel,\n      styles: customStyles,\n      className: \"table-select\",\n      classNamePrefix: \"table-select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), tables.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-count\",\n      children: [tables.length, \" tables available\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(TableSelector, \"ymeK8++epBSdcKPMpfvq82HOpvQ=\");\n_c = TableSelector;\nexport default TableSelector;\nvar _c;\n$RefreshReg$(_c, \"TableSelector\");","map":{"version":3,"names":["React","useState","useEffect","Select","api","jsxDEV","_jsxDEV","TableSelector","onTableSelect","selectedTable","_s","tables","setTables","loading","setLoading","error","setError","fetchTables","data","getTables","err","console","options","map","table","value","name","label","schemaStatus","schema_status","rowCount","row_count","formatOptionLabel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","customStyles","control","provided","minHeight","borderColor","boxShadow","menu","zIndex","selectedOption","find","opt","htmlFor","onClick","id","onChange","option","placeholder","isLoading","isSearchable","isClearable","styles","classNamePrefix","length","_c","$RefreshReg$"],"sources":["C:/Users/ssingh11/OneDrive - HERE Global B.V/Desktop/metadata_explorer/frontend/src/components/TableSelector.jsx"],"sourcesContent":["/**\r\n * TableSelector Component\r\n * Searchable dropdown for selecting tables\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport Select from 'react-select';\r\nimport api from '../services/api';\r\nimport './TableSelector.css';\r\n\r\nconst TableSelector = ({ onTableSelect, selectedTable }) => {\r\n  const [tables, setTables] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchTables();\r\n  }, []);\r\n\r\n  const fetchTables = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const data = await api.getTables();\r\n      setTables(data.tables || []);\r\n    } catch (err) {\r\n      console.error('Error fetching tables:', err);\r\n      setError('Failed to load tables. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format tables for react-select\r\n  const options = tables.map((table) => ({\r\n    value: table.name,\r\n    label: table.name,\r\n    schemaStatus: table.schema_status,\r\n    rowCount: table.row_count,\r\n  }));\r\n\r\n  // Custom option renderer to show schema status\r\n  const formatOptionLabel = ({ label, schemaStatus, rowCount }) => (\r\n    <div className=\"table-option\">\r\n      <span className=\"table-name\">{label}</span>\r\n      {schemaStatus === 'SCHEMA_CHANGED' && (\r\n        <span className=\"schema-badge changed\">Changed</span>\r\n      )}\r\n      <span className=\"row-count\">{rowCount.toLocaleString()} rows</span>\r\n    </div>\r\n  );\r\n\r\n  const customStyles = {\r\n    control: (provided) => ({\r\n      ...provided,\r\n      minHeight: '45px',\r\n      borderColor: '#d1d5db',\r\n      boxShadow: 'none',\r\n      '&:hover': {\r\n        borderColor: '#9ca3af',\r\n      },\r\n    }),\r\n    menu: (provided) => ({\r\n      ...provided,\r\n      zIndex: 9999,\r\n    }),\r\n  };\r\n\r\n  const selectedOption = options.find((opt) => opt.value === selectedTable);\r\n\r\n  return (\r\n    <div className=\"table-selector\">\r\n      <label htmlFor=\"table-select\" className=\"selector-label\">\r\n        Select Table\r\n      </label>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n          <button onClick={fetchTables} className=\"retry-button\">\r\n            Retry\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <Select\r\n        id=\"table-select\"\r\n        options={options}\r\n        value={selectedOption}\r\n        onChange={(option) => onTableSelect(option?.value)}\r\n        placeholder={loading ? 'Loading tables...' : 'Search and select a table...'}\r\n        isLoading={loading}\r\n        isSearchable\r\n        isClearable\r\n        formatOptionLabel={formatOptionLabel}\r\n        styles={customStyles}\r\n        className=\"table-select\"\r\n        classNamePrefix=\"table-select\"\r\n      />\r\n\r\n      {tables.length > 0 && (\r\n        <div className=\"table-count\">\r\n          {tables.length} tables available\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}